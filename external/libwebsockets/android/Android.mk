LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)
LOCAL_MODULE    := libwebsockets_static
LOCAL_MODULE_FILENAME := libwebsockets_static
LOCAL_SRC_FILES := ./lib/$(TARGET_ARCH_ABI)/libwebsockets.a
LOCAL_EXPORT_C_INCLUDES := $(LOCAL_PATH)/include/websockets
LOCAL_CPPFLAGS := -D__STDC_LIMIT_MACROS=1
LOCAL_EXPORT_CPPFLAGS := -D__STDC_LIMIT_MACROS=1
LOCAL_STATIC_LIBRARIES += ext_ssl
LOCAL_STATIC_LIBRARIES += ext_crypto
LOCAL_STATIC_LIBRARIES += ext_uv
include $(PREBUILT_STATIC_LIBRARY)

include $(CLEAR_VARS)
LOCAL_MODULE    := ext_uv
LOCAL_SRC_FILES := ./lib/$(TARGET_ARCH_ABI)/libuv_a.a
LOCAL_EXPORT_C_INCLUDES := $(LOCAL_PATH)/include/uv

include $(PREBUILT_STATIC_LIBRARY)

include $(CLEAR_VARS)

LOCAL_MODULE := ext_crypto
LOCAL_MODULE_FILENAME := crypto
LOCAL_SRC_FILES := ./lib/$(TARGET_ARCH_ABI)/libcrypto.a
LOCAL_EXPORT_C_INCLUDES := $(LOCAL_PATH)/include
include $(PREBUILT_STATIC_LIBRARY)

LOCAL_MODULE := ext_ssl
LOCAL_MODULE_FILENAME := ssl
LOCAL_SRC_FILES := ./lib/$(TARGET_ARCH_ABI)/libssl.a
LOCAL_EXPORT_C_INCLUDES := $(LOCAL_PATH)/include
include $(PREBUILT_STATIC_LIBRARY)
